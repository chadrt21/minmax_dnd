<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Chad Ross">
    <title>MinMax DnD Muiltclass</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/handsontable/0.35.1/handsontable.min.css" rel="stylesheet">
  </head>
  <body style="padding-top: 5rem;">
  <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
    <div class="container">
      <a class="navbar-brand" href="#">MinMax</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
<!--       <div class="collapse navbar-collapse" id="navbarsExampleDefault">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Get Started</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Community</a>
          </li>
        </ul>
        <a class="btn btn-success my-2 my-sm-0" href="#"><i class="fa fa-sign-in"></i> Login</a>
      </div> -->
    </div>
    </nav>

    <script>
    funciton updateTable(level) {

    }
    </script>

<div id="con"></div>
    <script>
    var races = ["","Dragonborn","Dwarf","Human","Elf","Half-Elf","Halfling","Half-Orc","Tiefling","Leonin","Satyr","Fiary",
    "Haengon","Owlin","Aarakocra","Genasi","Goliath","Gnome","Aasimar","Bugbear","Firblog","Goblin","Hobgoblin","Kenku","Kobold",
    "Lizardfolk","Orc","Tabaxi","Triton","Yuan-ti Pureblood","Feral Tiefling","Tortle","Changeling","Kalashtar","Shifter","Warforged",
    "Gith","Centaur","Loxodon","Minotaur","Simic Hybrid","Vedalken","Verdan","Locathah","Grung"].sort();
    var raceSelect = `<label>Race: </label><select name="race" id="race" onchange="updateTable(this.value)">`;
    races.forEach((item, i) => raceSelect += `<option value="${item}">${item}</option>`);
    raceSelect += `</select>`;
    raceSelect += "<label> Equipment: </label>";
    document.getElementById("con").innerHTML = raceSelect;
    </script>

    <div id="container"></div>
    <script>
    var header = ["Level", "Class", "Features", "HP", "AC", "STR","DEX","CON","INT","WIS","CHA","Spells","Cantrips","Max spell"];
    var classes = ["","Aritifcer","Barbarian","Bard","Cleric","Druid","Fighter","Monk","Paladin","Ranger","Rouge","Sorcerer","Warlock","Wizard"];
    var levels = [...Array(20).keys()].map(x => ++x);

    // (C) CREATE HTML TABLE
    // (C1) HTML TABLE STRING
    var myTable = "<table><tr>";

    // (C2) LOOP THROUGH ARRAY & GENERATE ROWS-CELLS
    header.forEach((value,i) => {
      if (i <= 2) {
        myTable += `<td>${value}</td>`;
      }
      else {
        myTable += `<td style="text-align: center; vertical-align: middle;">${value}</td>`;
      }

    });

    myTable += "</tr><tr>";

    levels.forEach((value,i) => {
      myTable += `<td style="text-align: center; vertical-align: middle;">${value}</td>`;
      myTable += `<td><select name="class" id="class${value}" onchange="updateTable(this.value)">`;
      classes.forEach(c => myTable += `<option value="${c}">${c}</option>`);
      // CLICK ON CELL TO DO SOMETHING
      // myTable += `<td onclick="FUNCTION()">${value}</td>`;

      // TO PASS IN A RUNNING NUMBER OR PARAMETER
      // myTable += `<td onclick="FUNCTION(${i})">${value}</td>`;
      myTable += "</select></td>";

      if (i === 0) {
        myTable += `</td><td style="min-width:100px"></td><td></td><td>`;
        [...Array(6).keys()].forEach(n => myTable += `</td><th><div><input type="number" id="stat${value}_${n}" value="10" style="max-width:30px"></div></th></td>`);
      }
      else {
        myTable += "</td><td>";
        [...Array(8).keys()].forEach(n => myTable += `</td><th><div><output for="stat${value}_${n}" style="max-width:30px"></output></div></th></td>`);
        // [...Array(9).keys()].forEach(n => myTable += "</td><td>");
      }

      // BREAK INTO NEXT ROW
      var next = i + 1;
      if (next!=levels.length) { myTable += "</tr><tr>"; }
    });


    // (C3) CLOSE THE TABLE STRING
    myTable += "</tr></table>";

    // (D) ATTACH HTML TO CONTAINER
    document.getElementById("container").innerHTML = myTable;
    </script>


</body>
</html>
